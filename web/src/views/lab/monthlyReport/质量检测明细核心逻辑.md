### 质量检测明细

示例如下：

|生产日期|班次|炉号|带宽 （mm）|检测明细（kg）|||||||不合格分类|||||||||||||||||
|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|
|||||检测量|A|A类占比|B|B类占比|不合格|合格率|性能不合|极差不合|叠片不合|带宽不合|带厚不合|韧性|硬边|脆边|麻点|划痕|网眼|毛边|亮线|劈裂|棱|龟裂纹|端面不良|
|||||||||||||||||||||||||||||
|||||||||||||||||||||||||||||

设计两张数据库表：lab_intermediate_data（核心计算表）、LAB_INTERMEDIATE_DATA_JUDGMENT_LEVEL
     SELECT * FROM LAB_INTERMEDIATE_DATA_JUDGMENT_LEVEL WHERE F_FORMULA_ID='Labeling' 


质量检测明细表：

固定列： 生产日期、班次、炉号、带宽、检测量
      检测量：生产日期、班次、炉号、带宽 分组之后单卷重量求和（lab_intermediate_data）

   其他列动态生成：

列生成  从表中 LAB_INTERMEDIATE_DATA_JUDGMENT_LEVEL 获取条件： F_FORMULA_ID='Labeling' 、是否统计=是 等有效数据。根据优先级顺序排列
不过如果是合格要计算合格的占比。
lab_intermediate_data的`F_LABELING`=LAB_INTERMEDIATE_DATA_JUDGMENT_LEVEL F_NAME

根据lab_intermediate_data中`F_LABELING`的值 从LAB_INTERMEDIATE_DATA_JUDGMENT_LEVEL 获取是否合格





lab_intermediate_data

|报表上的名称|数据库字段名|C#属性名|
|-|-|-|
|生产日期|`F_PROD_DATE`|`ProdDate`|
|班次|`F_SHIFT`|`Shift` (甲/乙/丙)|
|炉号|`F_SHIFT_NO`|`ShiftNo`|
|带宽/产品规格|`F_PRODUCT_SPEC_CODE`|`ProductSpecCode`|
|单卷重量|`F_SINGLE_COIL_WEIGHT`|`SingleCoilWeight`|
|贴标|`F_LABELING`|`Labeling`|

LAB_INTERMEDIATE_DATA_JUDGMENT_LEVEL 


|报表上的名称|数据库字段名|
|-|-|
|判定公式(`Labeling`)|F_FORMULA_ID|
|是否统计|F_IS_STATISTIC|
|等级名称（lab_intermediate_data 中 `Labeling`值）|F_NAME|



